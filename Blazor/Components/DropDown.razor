@inherits ComponentContent
@*
	드랍 다운
	<DropDown>
		<Toggle/> 토글 메뉴 제공
		<DropMenu/> 메뉴 아이템 제공
	</DropDown>
*@

<div class="@CssClass" id="@Id" @attributes="UserAttrs">
	<CascadingValue Value="this" IsFixed="true">
		@ChildContent
	</CascadingValue>
</div>

@code {
	[Parameter] public DropDirection Direction { get; set; }

	[Parameter] public bool Expanded { get; set; }
	[Parameter] public EventCallback<bool> ExpandedChanged { get; set; }

	//
	protected override void OnComponentClass(CssCompose css)
	{
		css
			.Add(Direction.ToCss())
			.Add("btn-group");
	}

	//
	internal Task InternalExpandedChangedAsync(bool e)
	{
		Expanded = e;
		return InvokeExpandedChangedAsync(e);
	}

	//
	private Task InvokeExpandedChangedAsync(bool e) => ExpandedChanged.InvokeAsync(e);
}

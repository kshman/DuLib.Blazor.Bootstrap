@inherits ComponentContent

<TagElement Tag="@TagName" Class="@CssClass" UserAttrs="@UserAttrs">
	<CascadingValue Value="this" IsFixed="true">
		@ChildContent
	</CascadingValue>
</TagElement>

@code {
	/// <summary>드랍다운. 이게 캐스케이딩되면 드랍다운에 맞게 콤포넌트가 동작한다</summary>
	[CascadingParameter(Name = "DropDown")] public DropDown? DropDown { get; set; }

	/// <summary>정렬 방법 <see cref="DropAlignment"/></summary>
	[Parameter] public DropAlignment Alignment { get; set; }
	/// <summary>표시 방법 <see cref="TagPosition"/></summary>
	[Parameter] public TagPosition Position { get; set; } = TagPosition.Static;

	/// <summary>태그를 지정할 수 있습니다</summary>
	/// <remarks>기본값은 ul</remarks>
	protected virtual string TagName => "ul";

	//
	protected override void OnComponentClass(CssCompose css)
	{
		css
			.Add("dropdown-menu")
			.Add(Alignment.ToCss());

		if (DropDown is not null)
			css.Register(() => (DropDown.Expanded).IfTrue("show"));
		else
		{
			css
				.Add(Position.ToCss())
				.Add("show");
		}
	}
}
